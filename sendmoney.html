<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coinpurse | Dashboard</title>
    <link rel="shortcut icon" href="./logo-package/favicon.png" type="image/x-icon">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link href="https://fonts.googleapis.com/css2?family=Righteous&family=Roboto:wght@100;300;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="./css/main.css">
    <link rel="stylesheet" href="./css/viewport.css">
    <link rel="stylesheet" href="./css/dashboard.css">
    
    
</head>
    <style>
      .modal{

        --bs-modal-width: 20%
      }
    </style>
   
    <body class="bg-light ">


       
        <nav class="navbar navbar-expand-lg fixed-top shadow-none " style="background-color: white;">
            <div class="container-fluid" >
              <button class="btn btn-outline-success border-0 rounded-1" data-bs-toggle="offcanvas" data-bs-target="#offcanvasScrolling" ><i class="fa-solid fa-ellipsis fs-2"></i></button>

             
             
              <div class="justify-content-end " id="navbarNavAltMarkup">
                <div class="navbar-nav m-2 " >
                
                    
                    
                    <div class="dropdown">
                        <button class="btn btn-outline-secondary  dropdown-toggle rounded-1 " style="font-size: 14px;" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="fa-regular fa-circle-user fs-6"></i> Lyndon Cuartero
                        </button>
                        <ul class="dropdown-menu rounded-1">

                          
                          <li><a class="dropdown-item" href="./index.html" style="font-size: 14px;">Log out</a></li>
                          
                        </ul>
                      </div>
                      
                        
                
                </div>
              </div>
            </div>
          </nav>


         <!--Side Menu-->

          <div class="offcanvas offcanvas-start show" data-bs-scroll="true" data-bs-backdrop="false" tabindex="-1" id="offcanvasScrolling" aria-labelledby="offcanvasScrollingLabel">
            <div class="offcanvas-header">
              <h5 class="offcanvas-title" id="sidemenubrand">Coinpurse</h5>
              <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">
              <div class="row d-flex">
                <div class="col-12 p-2  ">
                    <a href="./dashboard.html"  class="border-1 text-muted" style="text-decoration: none; font-size: 14px" ><span class="material-symbols-outlined" id="dashboardicon">space_dashboard</span>&nbsp; DASHBOARD</a>
                    
                </div>
                <div class="col-12 p-2 ">
                    <a href="./deposit.html" class="text-muted  border-1" style="text-decoration: none; font-size: 14px" ><span class="material-symbols-outlined" id="dashboardicon">download</span>&nbsp; DEPOSIT</a>
                    
                </div>
                <div class="col-12 p-2 ">
                    <a href="./withdraw.html" class="text-muted border-1" style="text-decoration: none; font-size: 14px" ><span class="material-symbols-outlined" id="dashboardicon">upload</span>&nbsp; WITHDRAW</a>
                    
                </div>
                <div class="col-12 p-2 bg-success rounded-1">
                    <a href="./sendmoney.html" class="text-light  border-1" style="text-decoration: none; font-size: 14px" ><span class="material-symbols-outlined" id="dashboardicon">move_up</span>&nbsp; SEND MONEY</a>
                    
                </div>
                <div class="col-12 p-2 ">
                    <a href="./transactions.html" class="text-muted border-1" style="text-decoration: none; font-size: 14px" ><span class="material-symbols-outlined" id="dashboardicon">article</span>&nbsp; TRANSACTIONS</a>
                    
                </div>
              
                <div class="col-12 p-2 ">
                    <a href="./help.html" class="text-muted border-1" style="text-decoration: none; font-size: 14px" ><span class="material-symbols-outlined" id="dashboardicon">help</span>&nbsp; HELP</a>
                    
                </div>
              </div>
            </div>
          </div>

        <!--End of side menu-->
        

        <!--send money and balacne-->

        <main>
            <div class="container py-4" style="margin-top: 100px;" id="balancecontainer">
              <div class="row">

                <div class="col-lg-4 col-md-6 m-auto ">
                    <div class="h-100 p-5 text-bg-success shadow  rounded-1">
                        <div class="row">
                          
                            <div class="col-12">
                                
                                <h4>Coinpurse Balance</h4>

                               
                            </div>
                            <div class="col-12 mt-2">
                               
                                <h2 >PHP <span class="fw-light " id="mainaccountbalance"></span></h2>
                            </div>
                            <div class="col-2">
                                
                                
                            </div>
                            
                        </div>
                        
                    </div>
                </div>
                
              </div>
              
              <div class="row">

                
                
                
                  <div class="col-lg-4 col-md-6 mt-3 m-auto mb-5">
                      <div class="h-100 p-5 bg-white text-center border shadow rounded-1">
                        <p class="text-muted" style="font-size: 15px;">Enter the Account Number</p>
                        
                        <div class="input-group mb-3">
                          <span class="input-group-text rounded-0 text-success " id="basic-addon1"><i class="fa-regular fa-user"></i></span>
                          <input type="number" class="form-control rounded-0" id="accountbox" placeholder="XXXXXXXXXXX" aria-label="Username" aria-describedby="basic-addon1" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" maxlength="11">
  
                        </div>
                       
                        <div class="collapse" id="accountvalidator">
                          <div class="card card-body border-0 ">
                            <p style="font-size: 13px; color: rgb(219, 21, 87);" ><i class="fa-solid fa-triangle-exclamation"></i> Invalid Account Number</p>
        
                          </div>
                        </div>
                        <div class="alert alert-success rounded-1 mb-4 bg-white " style="font-size: 12px;" role="alert">
                          This is the 11 digits phone number registered to a coinpurse account
                        </div>
                        <p class="text-muted" style="font-size: 15px;">Enter the Amount</p>
                       
                        <div class="input-group mb-3">
                          <span class="input-group-text rounded-0 text-success " id="basic-addon1">₱</span>
                          <input type="number" class="form-control rounded-0" id="amountbox" placeholder="0.00" aria-label="Username" aria-describedby="basic-addon1"  oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" maxlength="5">
  
                        </div>
                       
                        <div class="collapse" id="amountvalidator">
                          <div class="card card-body border-0 ">
                            <p style="font-size: 13px; color: rgb(219, 21, 87);" ><i class="fa-solid fa-triangle-exclamation"></i> Invalid Amount</p>
        
                          </div>
                        </div>
                        <div class="alert alert-success rounded-1 mb-4 bg-white " style="font-size: 12px;" role="alert">
                          minimum amount is ₱50.00 and maximum amount is ₱70,000.
                        </div>
                        <button class="btn btn-outline-success rounded-1 mt-3 w-75" id="paymentbtn"  onclick="sendmoney()" >Send</button>
  
                      </div>
                  </div>
                  
                
                
              </div>

             
              
            </div>
        </main>
                   


        <!--End of Send money and balance-->


        <!--Send money confirmation modal-->

        <div class="modal fade" data-bs-backdrop="static" data-bs-keyboard="false" id="sendmoneyconfirmation" tabindex="-1" >
          <div class="modal-dialog modal-dialog-centered ">
            <div class="modal-content border-0  rounded-0" >
              <div class="modal-header">
                <h5 class="modal-title text-success ">Confirmation</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">

                <div class="col-lg-12 d-flex justify-content-center ">
                  <img src="https://www.citypng.com/public/uploads/small/11639594320pss4tbiransxz0lclgesdm9kr73odulxn16eo3n1remr761kz0vj2nda3llvan8besj5i9fp18ocdvfnf36c5b6wfz8b8itb81fp.png" width="20%" alt="">
                 
                </div>
                <div class="col-12 d-flex justify-content-center ">
                  <h5 class="mt-3 text-muted">A**** R.</h5>
                </div>
                <div class="row border-bottom ">
                  <div class="col-6">

                      <p class="float-start ">Coinpurse Balance </p>
                  </div>
                  <div class="col-6">
                    <p class="float-end " id="accountbalanceconfirmation"> ₱250.00</p>
                  </div>
                </div>
                <div class="row mt-3">
                  <div class="col-6">

                      <p class="float-start text-muted" style="font-size: 14px;">You are about to send</p>
                  </div>
                  <div class="col-6">
                    <p class="float-end " id="sendamount"> ₱250.00</p>
                  </div>
                </div>
              </div>
              <div class="modal-footer d-flex justify-content-center ">
                <button type="button" class="btn btn-secondary rounded-1 w-25" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary rounded-1 w-25"  data-bs-toggle="modal" data-bs-target="#sendmoneysuccess" onclick='sendmoneyconfirm()' >Confirm</button>
              </div>
            </div>
          </div>
        </div>
        

        <!--End of send money confirmation modal--->




           <!--Send money successful modal-->

           <div class="modal fade" data-bs-backdrop="static" data-bs-keyboard="false" id="sendmoneysuccess" tabindex="-1" >
            <div class="modal-dialog modal-dialog-centered ">
              <div class="modal-content border-0  rounded-0" >
                <div class="modal-header">
                  <h5 class="modal-title text-success ">Confirmation</h5>
                  
                </div>
                <div class="modal-body">
  
                  <div class="col-lg-12 d-flex justify-content-center ">
                    
                    <p><i class="fa-solid fa-circle-check text-success "></i> Successfull Sent!</p>
                   
                  </div>
                  <div class="col-12 d-flex justify-content-center ">
                    <h5 class="mt-1 mb-3 text-muted">A**** R.</h5>
                  </div>
                  <div class="row border-bottom">
                    <div class="col-6">
  
                        <p class="float-start text-muted" style="font-size: 14px;">Amount</p>
                    </div>
                    <div class="col-6">
                      <p class="float-end " style="font-size: 14px;" id="sendamountsuccess"> ₱250.00</p>
                    </div>
                  </div>

                  <div class="row mt-3">
                    <div class="col-6">
  
                        <p class="float-start ">Total</p>
                    </div>
                    <div class="col-6">
                      <p class="float-end " id="sendamountsuccess2"> PHP 250.00</p>
                    </div>
                  </div>
                </div>
                <div class="modal-footer d-flex justify-content-center ">
                  
                  <button type="button" class="btn btn-primary rounded-1 w-100" data-bs-dismiss="modal" onclick="refreshwindows()">Okay</button>
                </div>
              </div>
            </div>
          </div>
          
  
          <!--End of send money successful modal--->



        <!--footer-->
        
        <div class="container-fluid mt-5" style="background-color: #14A44D;" >
            <div class="container">
              <footer class="py-5">
                <div class="row">
          
                    <div class="col-lg-12 mt-5">
                       <h1 id="footermainlogo" class="text-white">Coinpurse</h1>
                       <h4 class="text-white ">Cashless Convenience
                        Anytime Anywhere</h4>
                    </div>
            
                  
            
                  
                </div>
            
                <div class="d-flex flex-column flex-sm-row justify-content-between py-4 " >
                  <p class="text-white">&copy; 2023 Coinpurse, Inc. All rights reserved.</p>
                  <ul class="list-unstyled d-flex">
                    <li class="ms-3" ><a class="fs-3" href="#" ><i class="fa-brands fa-square-facebook text-white" ></i></a></li>
                    <li class="ms-3"><a class="fs-3 " href="#"  ><i class="fa-brands fa-square-twitter text-white"></i></a></li>
                    <li class="ms-3"><a class="fs-3 " href="#"><i class="fa-brands fa-square-instagram text-white"></i></a></li>
                  </ul>
                </div>
              </footer>
            </div>
          </div>
        
                
        <!---End of footer-->        
        
        
        <script src="https://kit.fontawesome.com/e32f95e99e.js" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js" integrity="sha512-E8QSvWZ0eCLGk4km3hxSsNmGWbLtSCSUcewDQPQWZF6pEU8GlT8a5fF32wOl1i8ftdMhssTrF/OhyGWwonTcXA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        
        <script>

         

          document.getElementById('amountbox').addEventListener('keyup', function(){

          if(document.getElementById('amountbox').value <= 49){

              $('#amountvalidator').collapse('show')
              document.getElementById("amountbox").style.borderWidth = "thin";
              document.getElementById("amountbox").style.borderColor = "red";
              
          }
          else if(document.getElementById('amountbox').value >= 70001){

              $('#amountvalidator').collapse('show')
              document.getElementById("amountbox").style.borderWidth = "thin";
              document.getElementById("amountbox").style.borderColor = "red";
              

           
          } 

          else{

              $('#amountvalidator').collapse('hide')
              document.getElementById('amountbox').style.borderColor = 'green'
              document.getElementById("amountbox").style.borderWidth = "thin";
              document.getElementById("amountbox").style.color = "green";
            
          }



        })



            document.getElementById('accountbox').addEventListener('keyup', function(){


            if(document.getElementById('accountbox').value.length <= 10){

                $('#accountvalidator').collapse('show')
                document.getElementById("accountbox").style.borderWidth = "thin";
                document.getElementById("accountbox").style.borderColor = "red";
              

            
            } 

            else{

                $('#accountvalidator').collapse('hide')
                document.getElementById('accountbox').style.borderColor = 'green'
                document.getElementById("accountbox").style.borderWidth = "thin";
                document.getElementById("accountbox").style.color = "green";
                
            }



            })



            function sendmoney(){

             

                if (document.getElementById('accountbox').value.length == 0)
                {

                  alert('Please put account number')
                  document.getElementById('accountbox').focus()

                }
                else if (document.getElementById('amountbox').value.length == 0)
                {

                  alert('Please put the amount')
                  document.getElementById('amountbox').focus()

                }

                else if (document.getElementById('amountbox').value <= 49)
                {

                  alert('The amount that you entered is below on limit')
                  document.getElementById('amountbox').focus()

                }
                
                else if (document.getElementById('amountbox').value >= 70001)
                {

                  alert('The amount that you entered is beyond on limit')
                  document.getElementById('amountbox').focus()

                }
                
                else if (document.getElementById('accountbox').value.length <= 10)
                {

                  alert('Account number is insufficient')
                  document.getElementById('accountbox').focus()

                }
                else{

                      var accountbalance = JSON.parse(localStorage.getItem('accountbalance'))

                      var amounttobesend = document.getElementById('amountbox').value
                      
                      if( amounttobesend > accountbalance){

                          alert('Not Enough Balance')
                      }
                      else{

                        document.getElementById('sendamount').innerText = "₱ " +  document.getElementById('amountbox').value 
                        document.getElementById('sendamountsuccess').innerText = "₱ " + document.getElementById('amountbox').value 
                        document.getElementById('sendamountsuccess2').innerText = "PHP " + document.getElementById('amountbox').value
                        $('#sendmoneyconfirmation').modal('show')
                      }

                }
            }

            function sendmoneyconfirm(){

              var newaccountbalance = localStorage.getItem('accountbalance') - document.getElementById('amountbox').value

              localStorage.setItem('accountbalance',newaccountbalance)
              
              
            }

            function refreshwindows(){

              window.location.reload()
              
            }

          //localStorage.setItem('accountbalance',250.00)

          //get account balance     
          
          var newaccountbalance = localStorage.getItem('accountbalance')

          document.getElementById('mainaccountbalance').innerHTML =  Math.round(newaccountbalance * 100) / 100
          document.getElementById('accountbalanceconfirmation').innerHTML = "₱ " + Math.round(newaccountbalance * 100) / 100
        </script>

    </body>
</html>